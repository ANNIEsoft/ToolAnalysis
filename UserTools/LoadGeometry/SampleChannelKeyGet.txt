// A simple example in getting the crate space map and getting a channel key


// Retrieve the ANNIE Geometry that's loaded with the LoadGeometry tool
// In your tool's header file, you'll need Geometry* fGeometry=nullptr;
/// Retrieve necessary info from ANNIEEvent

auto get_geometry= m_data->Stores.at("ANNIEEvent")->Header->Get("AnnieGeometry",fGeometry);
if(!get_geometry){
  Log("DigitBuilder Tool: Error retrieving Geometry from ANNIEEvent!",v_error,verbosity); 
  return false; 
}

//Make the map of channel key to crate space info; make sure your header
//has the pointer defined! something like
//std::map<std::vector<int>,int>* CrateSpaceToChannelNumMap

CrateSpaceToChannelNumMap = new std::map<std::vector<int>,int>;
m_data->CStore.Get("CrateSpaceToChannelNumMap",CrateSpaceToChannelNumMap);

//Let's test getting a single detector using the channel key acquired from
// a crate, slot, channel mapping
std::vector<int> tester{8,2,20};

//Get the channel key from the map
int channel_num_test = CrateSpaceToChannelNumMap->at(tester);
std::cout << "OUR CHANNEL NUMBER IS: " << channel_num_test << std::endl;
